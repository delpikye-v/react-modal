import e,{useState as t,useLayoutEffect as o,useEffect as n}from"react";import{createPortal as l}from"react-dom";import{Hooks as a,HtmlUtils as d,CmUtils as i}from"@delpi/common";var c=function(e){var n=e.children,a=e.id,d=void 0===a?"portal-modal":a,i=t(null),c=i[0],m=i[1];return o((function(){return m(function(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).setAttribute("id",e),document.body.appendChild(t),t)}(d)),function(){c&&c.parentNode&&c.parentNode.removeChild(c)}}),[d]),null===c?null:l(n,c)},m=function(o){var l=o.children,m=o.id,r=o.modalId,s=o.isOpen,u=o.center,v=void 0!==u&&u,f=o.className,E=o.tabIndex,p=void 0===E?-1:E,C=o.showHeader,b=void 0===C||C,h=o.showFooter,N=void 0===h||h,g=o.modalTitle,x=void 0===g?e.createElement(e.Fragment,null,"Â "):g,k=o.modalHeader,w=o.modalFooter,A=o.custimizeXClose,y=o.showExtraButton,j=void 0!==y&&y,B=o.showAcceptButton,F=void 0===B||B,I=o.showCancelButton,T=void 0===I||I,X=o.showXClose,O=void 0===X||X,H=o.escapeClose,L=void 0===H||H,z=o.toggleTitleExpand,D=void 0!==z&&z,K=o.fullSceen,R=void 0!==K&&K,S=o.classNameAccept,q=o.classNameCancel,G=o.classNameExtra,J=o.labelAccept,M=void 0===J?"OK":J,P=o.labelCancel,Q=void 0===P?"CANCEL":P,U=o.labelExtra,V=void 0===U?"EXTRA":U,W=o.handleToggle,Y=void 0===W?function(){}:W,Z=o.handleAccept,$=void 0===Z?function(){}:Z,_=o.handleCancel,ee=void 0===_?function(){}:_,te=o.hanldeXClose,oe=o.handleExtra,ne=void 0===oe?function(){}:oe,le=o.handleOpen,ae=void 0===le?function(){}:le,de=t(s),ie=de[0],ce=de[1],me=t(!1),re=me[0],se=me[1];a.useEventListener("keydown",(function(e){L&&"Escape"===e.key&&ue(!1)})),n((function(){se(R)}),[R]),n((function(){ce(s)}),[s]);var ue=function(e){ce(e),ae(e)};return ie?e.createElement(c,{id:m},e.createElement("div",{id:r,className:d.joinClass("modal2",re&&"modal2-toggle",v&&"modal2-center",f),tabIndex:p,role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"modal2-content"},O&&e.createElement("button",{className:"modal2-close",onClick:function(){i.isFunc(te)?te():ue(!1)}},A||e.createElement("span",null,"x")),b&&e.createElement("div",{className:"modal2-header"},e.createElement("span",{className:d.joinClass("modal2-title",D&&"modal2-title-toggle"),onDoubleClick:function(){D&&(se(!re),Y(!re))}},x),k),e.createElement("div",{className:"modal2-body"},l),N&&(w||e.createElement((function(){return e.createElement("div",{className:"modal2-footer"},T&&e.createElement("button",{className:d.joinClass("modal2-button modal2-light-button",q),onClick:function(){ue(!1),ee()}},Q),F&&e.createElement("button",{className:d.joinClass("modal2-button modal2-primary-button",S),onClick:function(){$()}},M),j&&e.createElement("button",{className:d.joinClass("modal2-button modal2-danger-button",G),onClick:function(){ne()}},V))}),null))))):null};export{c as ReactPortal,m as default};

import e,{useState as o,useLayoutEffect as t,useEffect as n}from"react";import{createPortal as l}from"react-dom";import{Hooks as a,HtmlUtils as i,CmUtils as d}from"@delpi/common";var c=function(){return e.createElement("svg",{fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},e.createElement("path",{d:"M18.707 5.293a1 1 0 0 0-1.414 0L12 10.586 6.707 5.293a1 1 0 0 0-1.414 1.414L10.586 12l-5.293 5.293a1 1 0 1 0 1.414 1.414L12 13.414l5.293 5.293a1 1 0 0 0 1.414-1.414L13.414 12l5.293-5.293a1 1 0 0 0 0-1.414z"}))};var r=function(e){var n=e.children,a=e.id,i=void 0===a?"portal-modal":a,d=o(null),c=d[0],r=d[1];return t((function(){return r(function(e){var o=document.getElementById(e);return o||((o=document.createElement("div")).setAttribute("id",e),document.body.appendChild(o),o)}(i)),function(){c&&c.parentNode&&c.parentNode.removeChild(c)}}),[i]),null===c?null:l(n,c)},m=function(t){var l=t.children,m=t.id,s=t.modalId,u=t.isOpen,v=t.center,f=void 0!==v&&v,E=t.className,h=t.tabIndex,p=void 0===h?-1:h,C=t.showHeader,b=void 0===C||C,g=t.showFooter,N=void 0===g||g,w=t.modalTitle,k=void 0===w?e.createElement(e.Fragment,null):w,x=t.modalHeader,j=t.modalFooter,A=t.customizeXClose,B=t.alignFooter,L=void 0===B?"RIGHT":B,T=t.fullButtonhMobile,y=void 0===T||T,F=t.showExtraButton,I=void 0!==F&&F,X=t.showAcceptButton,H=void 0===X||X,O=t.showCancelButton,R=void 0===O||O,z=t.showXClose,D=void 0===z||z,M=t.escapeClose,S=void 0===M||M,G=t.showSplitBorder,K=void 0===G||G,q=t.toggleTitleExpand,J=void 0!==q&&q,P=t.fullSceen,Q=void 0!==P&&P,U=t.classNameAccept,V=t.classNameCancel,W=t.classNameExtra,Y=t.labelAccept,Z=void 0===Y?"OK":Y,$=t.labelCancel,_=void 0===$?"CANCEL":$,ee=t.labelExtra,oe=void 0===ee?"EXTRA":ee,te=t.backdropDark,ne=void 0!==te&&te,le=t.handleToggle,ae=void 0===le?function(){}:le,ie=t.handleAccept,de=void 0===ie?function(){}:ie,ce=t.handleCancel,re=void 0===ce?function(){}:ce,me=t.handleEscapse,se=void 0===me?function(){}:me,ue=t.handleXClose,ve=t.handleExtra,fe=void 0===ve?function(){}:ve,Ee=t.handleOpen,he=void 0===Ee?function(){}:Ee,pe=o(u),Ce=pe[0],be=pe[1],ge=o(!1),Ne=ge[0],we=ge[1];a.useEventListener("keydown",(function(e){S&&"Escape"===e.key&&(ke(!1),se())})),n((function(){we(Q)}),[Q]),n((function(){be(u)}),[u]);var ke=function(e){be(e),he(e)};return Ce?e.createElement(r,{id:m},e.createElement("div",{id:s,className:i.joinClass("modal2",ne&&"dark-mode",Ne&&"modal2-toggle",f&&"modal2-center",E),tabIndex:p,role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"modal2-content"},D&&e.createElement("div",{className:"modal2-close",onClick:function(){d.isFunc(ue)?ue():ke(!1)}},A||e.createElement(c,null)),b&&e.createElement("div",{className:i.joinClass("modal2-header",K&&"split-border")},e.createElement("span",{className:i.joinClass("modal2-title",J&&"modal2-title-toggle"),onDoubleClick:function(){J&&(we(!Ne),ae(!Ne))}},k),x),e.createElement("div",{className:"modal2-body"},l),N&&(j||e.createElement((function(){return e.createElement("div",{className:i.joinClass("modal2-footer",K&&"split-border","CENTER"===L&&"align-center","LEFT"===L&&"align-left",y&&"button-full-width-mobile")},R&&e.createElement("button",{className:i.joinClass("modal2-button modal2-light-button",V),onClick:function(){ke(!1),re()}},_),H&&e.createElement("button",{className:i.joinClass("modal2-button modal2-primary-button",U),onClick:function(){de()}},Z),I&&e.createElement("button",{className:i.joinClass("modal2-button modal2-danger-button",W),onClick:function(){fe()}},oe))}),null))))):null};export{c as ModalCloseIcon,r as ReactPortal,m as default};
